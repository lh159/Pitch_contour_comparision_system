# 云端服务器运行指南

## 🚀 在云端服务器上修复 DashScope 问题

### 第一步：更新代码
```bash
# 在云端服务器上拉取最新代码
git pull origin main
```

### 第二步：运行修复脚本
```bash
# 给修复脚本执行权限
chmod +x fix_cloud_dashscope.py

# 运行修复脚本
python3 fix_cloud_dashscope.py
```

### 第三步：如果需要root权限
如果你的云端服务器需要安装系统依赖，可能需要root权限：
```bash
# 使用sudo运行
sudo python3 fix_cloud_dashscope.py
```

### 第四步：测试修复结果
修复完成后，脚本会自动测试。你也可以手动测试：
```bash
# 测试基本导入
python3 -c "import dashscope; print('✅ dashscope导入成功')"

# 测试项目中的导入
python3 -c "from fun_asr_module import FunASRProcessor; print('✅ FunASRProcessor导入成功')"
```

### 第五步：启动应用
修复成功后，启动你的应用：
```bash
# 如果修复脚本创建了虚拟环境，先激活它
source venv_fix/bin/activate

# 如果需要设置环境变量
source set_pythonpath.sh

# 启动应用
python3 web_interface.py
```

## 🔧 常见问题解决

### 问题1：权限不足
```bash
# 错误：Permission denied
# 解决：使用sudo或切换到root用户
sudo python3 fix_cloud_dashscope.py
```

### 问题2：网络问题
```bash
# 如果pip安装失败，尝试使用国内镜像
pip3 install dashscope -i https://pypi.tuna.tsinghua.edu.cn/simple/ --no-cache-dir
```

### 问题3：Python版本问题
```bash
# 检查Python版本
python3 --version

# 如果版本太旧，可能需要升级Python
# Ubuntu/Debian:
sudo apt update
sudo apt install python3.10

# CentOS/RHEL:
sudo yum install python310
```

### 问题4：虚拟环境问题
```bash
# 如果脚本创建了虚拟环境但没有自动激活
source venv_fix/bin/activate

# 检查虚拟环境中的包
pip list | grep dashscope
```

## 📝 成功标志
修复成功后，你应该看到：
- ✅ dashscope导入成功
- ✅ Transcription导入成功  
- ✅ FunASRProcessor导入成功
- 🎉 修复完成！dashscope现在应该可以正常使用了

## 🆘 如果修复失败
1. 查看错误信息
2. 运行诊断脚本：`python3 diagnose_dashscope.py`
3. 检查系统日志
4. 联系技术支持并提供完整的错误日志

---
*祝你部署顺利！🚀*
