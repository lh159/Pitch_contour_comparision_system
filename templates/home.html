<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <!-- H5ç§»åŠ¨ç«¯ä¼˜åŒ–çš„viewportè®¾ç½® -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- H5ç§»åŠ¨ç«¯å¿…éœ€çš„metaæ ‡ç­¾ -->
    <meta name="format-detection" content="telephone=no, email=no, address=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="éŸ³é«˜æ¯”å¯¹">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#667eea">
    
    <!-- PWAç›¸å…³metaæ ‡ç­¾ -->
    <meta name="description" content="AIæ™ºèƒ½å‘éŸ³ç»ƒä¹ ä¸è¯„ä¼°å¹³å°ï¼Œå¸®åŠ©æ‚¨æ”¹è¿›ä¸­æ–‡å‘éŸ³å‡†ç¡®æ€§">
    <meta name="keywords" content="å‘éŸ³ç»ƒä¹ ,éŸ³é«˜æ¯”å¯¹,ä¸­æ–‡å­¦ä¹ ,AIè¯­éŸ³">
    
    <!-- é˜²æ­¢é¡µé¢ç¼©æ”¾å’Œæ»šåŠ¨å¼¹æ€§ -->
    <meta name="msapplication-tap-highlight" content="no">
    
    <title>è¯­è®­å¹³å°</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/common.css') }}" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
        <div class="main-container">
            <!-- æ ‡é¢˜ -->
            <div class="text-center mb-4">
                <h1 class="display-4 text-primary mb-3">
                    <i class="fas fa-microphone me-3"></i>
                    è¯­è®­å¹³å°
                </h1>
            </div>


            <!-- é€‰æ‹©ç»ƒä¹ æ¨¡å¼ -->
            <div class="step-card">
                <div class="step-header">
                    <h4 class="mb-0">
                        <span class="step-number">1</span>
                        é€‰æ‹©ç»ƒä¹ æ¨¡å¼
                    </h4>
                </div>
                <div class="card-body p-4">
                    <!-- ç»ƒä¹ æ¨¡å¼é€‰æ‹© -->
                    <div class="mb-4">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="practiceMode" id="basicMode" value="basic" checked>
                                    <label class="form-check-label fw-bold" for="basicMode">
                                        <i class="fas fa-keyboard me-2 text-primary"></i>åŸºç¡€æ¨¡å¼
                                    </label>
                                    <div class="form-text text-muted ms-4">ç›´æ¥è¾“å…¥è¯æ±‡è¿›è¡Œå‘éŸ³ç»ƒä¹ </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="practiceMode" id="scenarioMode" value="scenario">
                                    <label class="form-check-label fw-bold" for="scenarioMode">
                                        <i class="fas fa-theater-masks me-2 text-success"></i>åœºæ™¯å¯¹è¯æ¨¡å¼ <span class="badge bg-success ms-1">NEW</span>
                                    </label>
                                    <div class="form-text text-muted ms-4">AIç”Ÿæˆæƒ…æ™¯å¯¹è¯ï¼Œæ²‰æµ¸å¼ç»ƒä¹ </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- åŸºç¡€æ¨¡å¼è¾“å…¥åŒºåŸŸ -->
                    <div id="basicModeInput">
                        <div class="row">
                            <div class="col-md-8">
                                <label for="textInput" class="form-label">è¯·è¾“å…¥è¦ç»ƒä¹ çš„ä¸­æ–‡è¯æ±‡:</label>
                                <input type="text" class="form-control form-control-lg" id="textInput" 
                                       placeholder="ä¾‹å¦‚: ä½ å¥½ã€æ—©ä¸Šå¥½ã€æ¬¢è¿å…‰ä¸´" maxlength="20">
                                <div class="form-text">æ”¯æŒè¯æ±‡ã€çŸ­è¯­å’Œç®€å•å¥å­</div>
                            </div>
                            <div class="col-md-4 d-flex align-items-end">
                                <button class="btn btn-custom w-100" id="generateBtn">
                                    <i class="fas fa-volume-up me-2"></i>
                                    ç”Ÿæˆæ ‡å‡†å‘éŸ³
                                </button>
                            </div>
                        </div>
                        
                        <!-- TTSå£°éŸ³é€‰æ‹©åŒºåŸŸ -->
                        <div class="row mt-3">
                            <div class="col-md-6">
                                <label for="voiceGender" class="form-label">
                                    <i class="fas fa-user me-1"></i>é€‰æ‹©å‘éŸ³äºº:
                                </label>
                                <select class="form-select" id="voiceGender">
                                    <option value="female">å¥³å£°</option>
                                    <option value="male">ç”·å£°</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="voiceEmotion" class="form-label">
                                    <i class="fas fa-heart me-1"></i>é€‰æ‹©æƒ…æ„Ÿé£æ ¼:
                                </label>
                                <select class="form-select" id="voiceEmotion">
                                    <option value="neutral">è‡ªç„¶</option>
                                    <option value="happy">å¼€å¿ƒ</option>
                                    <option value="sad">æ‚²ä¼¤</option>
                                    <option value="angry">ç”Ÿæ°”</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-text mt-1 text-center text-muted">
                            <i class="fas fa-info-circle me-1"></i>
                            é€‰æ‹©ä¸åŒçš„å£°éŸ³æ€§åˆ«å’Œæƒ…æ„Ÿé£æ ¼ï¼Œä½“éªŒæ›´ä¸°å¯Œçš„å‘éŸ³ç»ƒä¹ 
                        </div>
                    </div>
                    
                    <!-- åœºæ™¯å¯¹è¯æ¨¡å¼è¾“å…¥åŒºåŸŸ -->
                    <div id="scenarioModeInput" style="display: none;">
                        <div class="row">
                            <div class="col-md-8">
                                <label for="scenarioInput" class="form-label">è¯·æè¿°æ‚¨æƒ³è¦ç»ƒä¹ çš„åœºæ™¯:</label>
                                <textarea class="form-control form-control-lg" id="scenarioInput" 
                                          placeholder="ä¾‹å¦‚ï¼šå¦ˆå¦ˆæ•™å¯¼ä¸‰å¹´çº§å°å­©å­¦ä¹ æ•°å­¦ã€æœ‹å‹ä¹‹é—´è®¨è®ºå‘¨æœ«è®¡åˆ’ã€å®¢æœæ¥å¾…é¡¾å®¢å’¨è¯¢ã€åŒ»ç”Ÿé—®è¯Šæ‚£è€…ç­‰..."
                                          rows="3" maxlength="200"></textarea>
                                <div class="form-text">æè¿°ä¸€ä¸ªå…·ä½“çš„å¯¹è¯åœºæ™¯ï¼Œç³»ç»Ÿå°†ä¸ºæ‚¨ç”Ÿæˆä¸ªæ€§åŒ–çš„è§’è‰²æ‰®æ¼”å¯¹è¯</div>
                            </div>
                            <div class="col-md-4 d-flex align-items-end">
                                <button class="btn btn-custom w-100" id="generateScenarioBtn">
                                    <i class="fas fa-magic me-2"></i>
                                    ç”Ÿæˆåœºæ™¯å¯¹è¯
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- åœºæ™¯å¯¹è¯å±•ç¤ºåŒºåŸŸ -->
            <div class="step-card" id="dialogueContainer" style="display: none;">
                <div class="step-header">
                    <h4 class="mb-0">
                        <i class="fas fa-theater-masks me-2"></i>
                        <span id="scenarioTitle">åœºæ™¯å¯¹è¯</span>
                    </h4>
                </div>
                <div class="card-body p-4">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="alert alert-primary mb-0">
                                <i class="fas fa-user me-2"></i>
                                <span class="user-role">æ‚¨çš„è§’è‰²ï¼šç”¨æˆ·</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="alert alert-success mb-0">
                                <i class="fas fa-robot me-2"></i>
                                <span class="ai-role">AIè§’è‰²ï¼šåŠ©æ‰‹</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dialogue-content" id="dialogueContent">
                        <!-- åŠ¨æ€ç”Ÿæˆå¯¹è¯å†…å®¹ -->
                    </div>
                    
                    <div class="nav-buttons">
                        <button class="btn btn-success" id="startDialogueBtn">
                            <i class="fas fa-play me-2"></i>å¼€å§‹å¯¹è¯
                        </button>
                        <button class="btn btn-info" id="regenerateBtn">
                            <i class="fas fa-redo me-2"></i>é‡æ–°ç”Ÿæˆ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- é€šç”¨JS -->
    <script src="{{ url_for('static', filename='js/common.js') }}"></script>
    
    <!-- é¡µé¢ç‰¹å®šJS -->
    <script>
        // å…¨å±€å˜é‡
        let currentText = '';
        let isDialogueMode = false;
        let dialogueData = null;
        let currentSession = null;
        
        // DOMå…ƒç´ 
        const textInput = document.getElementById('textInput');
        const generateBtn = document.getElementById('generateBtn');
        const basicModeRadio = document.getElementById('basicMode');
        const scenarioModeRadio = document.getElementById('scenarioMode');
        const basicModeInput = document.getElementById('basicModeInput');
        const scenarioModeInput = document.getElementById('scenarioModeInput');
        const scenarioInput = document.getElementById('scenarioInput');
        const generateScenarioBtn = document.getElementById('generateScenarioBtn');
        const dialogueContainer = document.getElementById('dialogueContainer');
        const scenarioTitle = document.getElementById('scenarioTitle');
        const dialogueContent = document.getElementById('dialogueContent');
        const startDialogueBtn = document.getElementById('startDialogueBtn');
        const regenerateBtn = document.getElementById('regenerateBtn');
        
        // é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ é¦–é¡µåˆå§‹åŒ–...');
            
            // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
            setupEventListeners();
            
            console.log('âœ“ é¦–é¡µåˆå§‹åŒ–å®Œæˆ');
        });
        
        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            // åŸºç¡€æ¨¡å¼ç”ŸæˆæŒ‰é’®
            generateBtn.addEventListener('click', generateBasicMode);
            
            // åœºæ™¯å¯¹è¯ç”ŸæˆæŒ‰é’®
            generateScenarioBtn.addEventListener('click', generateScenario);
            
            // å¼€å§‹å¯¹è¯æŒ‰é’®
            startDialogueBtn.addEventListener('click', startDialogue);
            
            // é‡æ–°ç”ŸæˆæŒ‰é’®
            regenerateBtn.addEventListener('click', regenerateScenario);
            
            // æ¨¡å¼åˆ‡æ¢
            basicModeRadio.addEventListener('change', handleModeChange);
            scenarioModeRadio.addEventListener('change', handleModeChange);
            
            // å›è½¦é”®è§¦å‘ç”Ÿæˆ
            textInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    generateBasicMode();
                }
            });
            
            // åœºæ™¯è¾“å…¥å›è½¦é”®è§¦å‘ç”Ÿæˆ
            scenarioInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    generateScenario();
                }
            });
            
            // æ€§åˆ«é€‰æ‹©ç›‘å¬å™¨ - ç”·å£°åªæ”¯æŒè‡ªç„¶æƒ…æ„Ÿ
            const voiceGenderSelect = document.getElementById('voiceGender');
            const voiceEmotionSelect = document.getElementById('voiceEmotion');
            
            voiceGenderSelect.addEventListener('change', function() {
                updateEmotionOptions();
            });
            
            // åˆå§‹åŒ–æƒ…æ„Ÿé€‰é¡¹
            updateEmotionOptions();
        }
        
        // å¤„ç†ç»ƒä¹ æ¨¡å¼åˆ‡æ¢
        function handleModeChange() {
            isDialogueMode = scenarioModeRadio.checked;
            
            if (isDialogueMode) {
                basicModeInput.style.display = 'none';
                scenarioModeInput.style.display = 'block';
                console.log('âœ… åˆ‡æ¢åˆ°åœºæ™¯å¯¹è¯æ¨¡å¼');
            } else {
                basicModeInput.style.display = 'block';
                scenarioModeInput.style.display = 'none';
                dialogueContainer.style.display = 'none';
                console.log('âœ… åˆ‡æ¢åˆ°åŸºç¡€æ¨¡å¼');
            }
            
            // é‡ç½®çŠ¶æ€
            resetDialogueState();
        }
        
        // æ›´æ–°æƒ…æ„Ÿé€‰é¡¹ - ç”·å£°åªæ”¯æŒè‡ªç„¶æƒ…æ„Ÿ
        function updateEmotionOptions() {
            const voiceGenderSelect = document.getElementById('voiceGender');
            const voiceEmotionSelect = document.getElementById('voiceEmotion');
            const currentGender = voiceGenderSelect.value;
            const currentEmotion = voiceEmotionSelect.value;
            
            // æ¸…ç©ºç°æœ‰é€‰é¡¹
            voiceEmotionSelect.innerHTML = '';
            
            if (currentGender === 'male') {
                // ç”·å£°åªæ”¯æŒè‡ªç„¶æƒ…æ„Ÿ
                voiceEmotionSelect.innerHTML = '<option value="neutral">è‡ªç„¶</option>';
            } else {
                // å¥³å£°æ”¯æŒæ‰€æœ‰æƒ…æ„Ÿ
                voiceEmotionSelect.innerHTML = `
                    <option value="neutral">è‡ªç„¶</option>
                    <option value="happy">å¼€å¿ƒ</option>
                    <option value="sad">æ‚²ä¼¤</option>
                    <option value="angry">ç”Ÿæ°”</option>
                `;
                
                // å°è¯•ä¿æŒä¹‹å‰é€‰æ‹©çš„æƒ…æ„Ÿï¼ˆå¦‚æœå¯ç”¨ï¼‰
                if (['neutral', 'happy', 'sad', 'angry'].includes(currentEmotion)) {
                    voiceEmotionSelect.value = currentEmotion;
                }
            }
        }
        
        // é‡ç½®å¯¹è¯çŠ¶æ€
        function resetDialogueState() {
            currentSession = null;
            dialogueData = null;
        }
        
        // åŸºç¡€æ¨¡å¼ç”Ÿæˆæ ‡å‡†å‘éŸ³
        async function generateBasicMode() {
            const text = textInput.value.trim();
            if (!text) {
                showAlert('è¯·è¾“å…¥è¦ç»ƒä¹ çš„æ–‡æœ¬', 'warning');
                return;
            }
            
            // è·å–ç”¨æˆ·é€‰æ‹©çš„å£°éŸ³å‚æ•°
            const voiceGender = document.getElementById('voiceGender').value;
            const voiceEmotion = document.getElementById('voiceEmotion').value;
            
            currentText = text;
            generateBtn.disabled = true;
            generateBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>ç”Ÿæˆä¸­...';
            
            try {
                // è°ƒç”¨TTSç”ŸæˆAPI
                const response = await fetch('/api/tts/generate_with_timestamps', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ 
                        text: text,
                        method: 'auto',
                        voice_gender: voiceGender,
                        voice_emotion: voiceEmotion
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    // è·³è½¬åˆ°æ ‡å‡†å‘éŸ³é¡µé¢
                    navigateTo('/standard-audio', {
                        file_id: data.file_id,
                        text: text,
                        audio_url: data.audio_url,
                        char_timestamps: JSON.stringify(data.char_timestamps || []),
                        timestamp_method: data.timestamp_method || 'unknown',
                        duration: data.pitch_info?.duration || 0,
                        warning: data.warning || ''
                    });
                } else {
                    showAlert(`ç”Ÿæˆå¤±è´¥: ${data.error}`, 'danger');
                }
            } catch (error) {
                showAlert(`ç½‘ç»œé”™è¯¯: ${error.message}`, 'danger');
            } finally {
                generateBtn.disabled = false;
                generateBtn.innerHTML = '<i class="fas fa-volume-up me-2"></i>ç”Ÿæˆæ ‡å‡†å‘éŸ³';
            }
        }
        
        // ç”Ÿæˆåœºæ™¯å¯¹è¯
        async function generateScenario() {
            const scenario = scenarioInput.value.trim();
            
            if (!scenario) {
                showAlert('è¯·è¾“å…¥åœºæ™¯æè¿°', 'warning');
                return;
            }
            
            if (scenario.length > 200) {
                showAlert('åœºæ™¯æè¿°ä¸èƒ½è¶…è¿‡200ä¸ªå­—ç¬¦', 'warning');
                return;
            }
            
            generateScenarioBtn.disabled = true;
            generateScenarioBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>ç”Ÿæˆä¸­...';
            
            try {
                console.log('å¼€å§‹ç”Ÿæˆåœºæ™¯å¯¹è¯:', scenario);
                
                const response = await fetch('/api/scenario/generate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ scenario: scenario })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    currentSession = data.session_id;
                    dialogueData = data.dialogue_data;
                    
                    displayDialogue();
                    showAlert('åœºæ™¯å¯¹è¯ç”ŸæˆæˆåŠŸï¼', 'success');
                    console.log('å¯¹è¯ç”ŸæˆæˆåŠŸ:', dialogueData);
                } else {
                    showAlert(`ç”Ÿæˆå¤±è´¥: ${data.error}`, 'danger');
                    console.error('å¯¹è¯ç”Ÿæˆå¤±è´¥:', data.error);
                }
            } catch (error) {
                showAlert(`ç½‘ç»œé”™è¯¯: ${error.message}`, 'danger');
                console.error('ç½‘ç»œé”™è¯¯:', error);
            } finally {
                generateScenarioBtn.disabled = false;
                generateScenarioBtn.innerHTML = '<i class="fas fa-magic me-2"></i>ç”Ÿæˆåœºæ™¯å¯¹è¯';
            }
        }
        
        // æ˜¾ç¤ºå¯¹è¯å†…å®¹
        function displayDialogue() {
            if (!dialogueData) return;
            
            scenarioTitle.textContent = dialogueData.scenario_title;
            
            // æ˜¾ç¤ºè§’è‰²ä¿¡æ¯
            document.querySelector('.user-role').innerHTML = 
                `<i class="fas fa-user me-2"></i>æ‚¨çš„è§’è‰²ï¼š${dialogueData.user_role}`;
            document.querySelector('.ai-role').innerHTML = 
                `<i class="fas fa-robot me-2"></i>AIè§’è‰²ï¼š${dialogueData.ai_role}`;
            
            // ç”Ÿæˆå¯¹è¯åˆ—è¡¨
            dialogueContent.innerHTML = '';
            dialogueData.dialogues.forEach((dialogue, index) => {
                const dialogueItem = document.createElement('div');
                dialogueItem.className = `dialogue-item ${dialogue.speaker}-dialogue`;
                dialogueItem.innerHTML = `
                    <div class="dialogue-speaker">${dialogue.speaker === 'user' ? dialogueData.user_role : dialogueData.ai_role}</div>
                    <div class="dialogue-text">${dialogue.text}</div>
                    <div class="dialogue-status" id="status-${dialogue.order}">
                        ${dialogue.speaker === 'user' ? 'å¾…ç»ƒä¹ ' : 'å¾…æ’­æ”¾'}
                    </div>
                `;
                dialogueContent.appendChild(dialogueItem);
            });
            
            dialogueContainer.style.display = 'block';
        }
        
        // å¼€å§‹å¯¹è¯
        function startDialogue() {
            if (!dialogueData || !currentSession) {
                showAlert('è¯·å…ˆç”Ÿæˆåœºæ™¯å¯¹è¯', 'warning');
                return;
            }
            
            // è·³è½¬åˆ°æ ‡å‡†å‘éŸ³é¡µé¢ï¼Œæºå¸¦åœºæ™¯å¯¹è¯æ•°æ®
            navigateTo('/standard-audio', {
                mode: 'dialogue',
                session_id: currentSession,
                dialogue_data: JSON.stringify(dialogueData),
                current_order: 1
            });
        }
        
        // é‡æ–°ç”Ÿæˆåœºæ™¯
        function regenerateScenario() {
            const scenario = scenarioInput.value.trim();
            if (!scenario) {
                showAlert('è¯·å…ˆè¾“å…¥åœºæ™¯æè¿°', 'warning');
                return;
            }
            
            resetDialogueState();
            dialogueContainer.style.display = 'none';
            generateScenario();
        }
        
        // åœºæ™¯å¯¹è¯ç›¸å…³æ ·å¼
        const dialogueStyles = `
            <style>
            .dialogue-content {
                max-height: 400px;
                overflow-y: auto;
                border: 1px solid #e9ecef;
                border-radius: 10px;
                padding: 15px;
                background: #f8f9fa;
            }
            
            .dialogue-item {
                display: flex;
                align-items: flex-start;
                margin-bottom: 15px;
                padding: 12px;
                border-radius: 10px;
                position: relative;
                transition: all 0.3s ease;
            }
            
            .dialogue-item.user-dialogue {
                background: linear-gradient(135deg, #e3f2fd, #bbdefb);
                border-left: 4px solid #2196f3;
            }
            
            .dialogue-item.ai-dialogue {
                background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
                border-left: 4px solid #4caf50;
            }
            
            .dialogue-speaker {
                font-weight: bold;
                font-size: 14px;
                color: #666;
                min-width: 80px;
                margin-right: 15px;
            }
            
            .dialogue-text {
                flex: 1;
                font-size: 16px;
                line-height: 1.5;
                color: #333;
            }
            
            .dialogue-status {
                font-size: 12px;
                padding: 4px 8px;
                border-radius: 12px;
                background: #f0f0f0;
                color: #666;
                min-width: 60px;
                text-align: center;
            }
            
            .dialogue-status.active {
                background: #2196f3;
                color: white;
                animation: pulse 1.5s infinite;
            }
            
            .dialogue-status.playing {
                background: #ff9800;
                color: white;
            }
            
            .dialogue-status.completed {
                background: #4caf50;
                color: white;
            }
            
            @keyframes pulse {
                0% { opacity: 1; }
                50% { opacity: 0.7; }
                100% { opacity: 1; }
            }
            </style>
        `;
        
        // æ·»åŠ æ ·å¼åˆ°é¡µé¢
        document.head.insertAdjacentHTML('beforeend', dialogueStyles);
    </script>
</body>
</html>
