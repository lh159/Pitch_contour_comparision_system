# 共振峰功能演示指南

## 快速开始

### 1. 启动服务器

```bash
python app.py
```

### 2. 访问频谱镜子

在浏览器中打开：`http://localhost:5000/spectrogram-mirror`

### 3. 开始监测

点击"🎤 开始实时监测"按钮，允许麦克风权限

## 共振峰可视化演示

### 演示步骤

#### 步骤1：发"啊"（a）音
1. 点击开始监测
2. 清晰地发"啊"音，保持1-2秒
3. 观察频谱图上的共振峰标记：
   - 🔴 **F1（红色）** 应该在较高位置（约700-900Hz）
   - 🟢 **F2（绿色）** 应该在中间位置（约1200-1500Hz）
   - 🔵 **F3（蓝色）** 应该在更高位置（约2500-3000Hz）
   - 🟡 **F4（黄色）** 应该在高频区域（约3500-4000Hz）

#### 步骤2：发"依"（i）音
1. 清晰地发"依"音
2. 观察共振峰变化：
   - 🔴 **F1（红色）** 移到很低位置（约250-400Hz）
   - 🟢 **F2（绿色）** 移到很高位置（约2000-2500Hz）
   - 这是因为"i"音口腔开口小（F1低），舌位靠前（F2高）

#### 步骤3：发"乌"（u）音
1. 清晰地发"乌"音
2. 观察共振峰变化：
   - 🔴 **F1（红色）** 在很低位置（约250-400Hz）
   - 🟢 **F2（绿色）** 也在较低位置（约600-900Hz）
   - 这是因为"u"音口腔开口小（F1低），舌位靠后（F2低）

#### 步骤4：连续发音
1. 连续发音：啊 → 依 → 乌 → 啊
2. 观察共振峰的移动轨迹
3. 感受不同元音的共振峰模式差异

### 控制共振峰显示

#### 隐藏共振峰
- 取消勾选"🎯 显示共振峰"复选框
- 频谱图上的共振峰标记将消失
- 仅显示纯净的频谱图

#### 显示共振峰
- 勾选"🎯 显示共振峰"复选框
- 共振峰标记重新出现
- 帮助识别发音特征

## 共振峰模式参考

### 中文元音共振峰典型值

| 元音 | F1 (Hz) | F2 (Hz) | F3 (Hz) | 发音特征 |
|------|---------|---------|---------|----------|
| a 啊 | 700-900 | 1200-1500 | 2500-3000 | 口腔大开，舌位居中 |
| i 依 | 250-400 | 2000-2500 | 3000-3500 | 口腔闭合，舌位靠前 |
| u 乌 | 250-400 | 600-900 | 2200-2500 | 口腔闭合，舌位靠后 |
| e 诶 | 400-600 | 1700-2100 | 2500-3000 | 中度开口，舌位靠前 |
| o 哦 | 400-600 | 800-1200 | 2300-2700 | 中度开口，舌位靠后 |
| ü 迂 | 250-400 | 1400-1800 | 2200-2600 | 口腔闭合，舌位前圆唇 |

### 英文元音共振峰典型值

| 元音 | 示例 | F1 (Hz) | F2 (Hz) | 特征 |
|------|------|---------|---------|------|
| /i:/ | see | 270-350 | 2200-2400 | 高前元音 |
| /æ/ | cat | 660-860 | 1720-1860 | 低前元音 |
| /ɑ:/ | car | 730-850 | 1090-1220 | 低后元音 |
| /u:/ | food | 300-400 | 870-1020 | 高后元音 |
| /ə/ | about | 500-600 | 1400-1600 | 中央元音 |

## 实际应用场景

### 场景1：发音训练

**目标**：掌握正确的"i"音发音

1. 查看"i"音的标准共振峰位置（F1低，F2高）
2. 开始监测，尝试发音
3. 调整口型和舌位，让共振峰接近标准值
4. 反复练习，直到稳定

### 场景2：音色分析

**目标**：理解不同音色的频谱特征

1. 用正常音色发"a"音，记录共振峰位置
2. 用沙哑音色发"a"音，观察F3、F4的变化
3. 用明亮音色发"a"音，观察高频共振峰增强
4. 对比分析不同音色的共振峰特征

### 场景3：语音识别辅助

**目标**：区分相似发音

1. 分别发"en"和"eng"音
2. 观察共振峰的细微差异
3. 理解鼻音对共振峰的影响
4. 提高发音准确性

## 进阶技巧

### 技巧1：共振峰转换
- 尝试连续改变元音：i → e → a → o → u
- 观察F1和F2的平滑移动
- 理解元音之间的过渡关系

### 技巧2：双元音分析
- 发双元音，如"ai"（爱）
- 观察共振峰从第一个元音移动到第二个元音
- 分析过渡过程的时间和轨迹

### 技巧3：声调与共振峰
- 用不同声调发同一个音节
- 观察基频变化时，共振峰是否保持稳定
- 理解音高和音色的独立性

## 故障排除

### 问题1：看不到共振峰标记

**可能原因**：
- 共振峰显示开关未打开
- 音量太小
- 发音不清晰

**解决方法**：
1. 确认"显示共振峰"已勾选
2. 提高麦克风音量
3. 发清晰、稳定的元音

### 问题2：共振峰位置跳动

**可能原因**：
- 环境噪音
- 发音不稳定
- 麦克风质量问题

**解决方法**：
1. 在安静环境下使用
2. 保持发音稳定，持续1-2秒
3. 使用质量更好的麦克风

### 问题3：共振峰数量不对

**可能原因**：
- 某些共振峰能量太弱
- 频率范围超出显示范围

**说明**：
- F1-F4有特定搜索范围
- 如果能量峰不在范围内，不会显示
- 这是正常现象，不同发音共振峰数量可能不同

## 测试清单

使用以下清单验证共振峰功能：

- [ ] 页面正常加载
- [ ] 共振峰开关可见且可操作
- [ ] 共振峰说明信息完整显示
- [ ] 开始监测后能看到频谱图
- [ ] 发"啊"音时能看到红色和绿色标记
- [ ] 发"依"音时F1下降，F2上升
- [ ] 发"乌"音时F1和F2都下降
- [ ] 取消勾选开关后，标记消失
- [ ] 重新勾选开关后，标记重现
- [ ] 共振峰颜色正确（F1红，F2绿，F3蓝，F4黄）

## 自动化测试

运行自动化测试脚本：

```bash
# 确保安装了selenium
pip install selenium

# 运行测试
python test_formant_feature.py
```

测试脚本会自动验证：
- 页面元素是否存在
- JavaScript函数是否加载
- 开关功能是否正常
- 共振峰方法是否存在

## 视频教程（推荐）

建议录制以下演示视频：

1. **基础使用**（2分钟）
   - 启动和界面介绍
   - 发"啊依乌"三个音
   - 观察共振峰变化

2. **功能详解**（5分钟）
   - F1-F4的含义
   - 不同元音的共振峰模式
   - 开关控制演示

3. **实战应用**（10分钟）
   - 发音训练示例
   - 音色分析示例
   - 常见问题解决

## 下一步计划

- [ ] 添加共振峰数值显示
- [ ] 添加共振峰轨迹跟踪
- [ ] 添加元音图谱（F1-F2平面）
- [ ] 添加标准发音对比
- [ ] 添加共振峰数据导出
- [ ] 添加发音评分功能

## 反馈与建议

如有任何问题或建议，欢迎反馈！

---

**更新时间**: 2024年10月  
**版本**: 1.0.0  
**相关文档**: [共振峰频谱图波形表示发音.md](共振峰频谱图波形表示发音.md)

